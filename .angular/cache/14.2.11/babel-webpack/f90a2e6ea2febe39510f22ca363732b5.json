{"ast":null,"code":"import _asyncToGenerator from \"/home/claudiopcwork/Desktop/Desarrollo FULLSTACK/Tienda Electronica/tienda-electronica-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/authorization.service\";\nimport * as i2 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(service, formBuilder) {\n    this.service = service;\n    this.formBuilder = formBuilder;\n    this.loginForm = this.formBuilder.group({\n      usernameInput: new FormControl('', Validators.required),\n      passwordInput: new FormControl('', Validators.required)\n    });\n  }\n\n  GenerateAuth() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b;\n\n      _this.credentials.password = (_a = _this.loginForm.get('usernameInput')) === null || _a === void 0 ? void 0 : _a.value;\n      _this.credentials.username = (_b = _this.loginForm.get('passwordInput')) === null || _b === void 0 ? void 0 : _b.value;\n      yield _this.service.PostAuthorization(_this.credentials).subscribe(result => {\n        alert(result.status);\n      }, error => {\n        alert(error.error.error.message);\n      });\n    })();\n  }\n\n  ngOnInit() {}\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthorizationService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 18,\n  vars: 2,\n  consts: [[1, \"container\", \"bg-dark\"], [1, \"row\", \"justify-content-center\", \"align-items-center\", \"vh-100\"], [1, \"col-md-4\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\", \"mb-4\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"placeholder\", \"Enter Username\", \"formControlName\", \"usernameInput\", \"required\", \"true\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter Password\", \"formControlName\", \"passwordInput\", \"required\", \"true\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n      i0.ɵɵtext(6, \"Iniciar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.GenerateAuth();\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n      i0.ɵɵtext(10, \"Nombre de usuario\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 12);\n      i0.ɵɵtext(17, \" Iniciar sesi\\u00F3n \");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";AAEA,SAAsBA,WAAtB,EAA8CC,UAA9C,QAAgE,gBAAhE;;;;AAQA,OAAM,MAAOC,cAAP,CAAqB;EAKzBC,YAAoBC,OAApB,EAAyDC,WAAzD,EAAgF;IAA5D;IAAqC;IACvD,KAAKC,SAAL,GAAiB,KAAKD,WAAL,CAAiBE,KAAjB,CAAuB;MACtCC,aAAa,EAAE,IAAIR,WAAJ,CAAgB,EAAhB,EAAmBC,UAAU,CAACQ,QAA9B,CADuB;MAEtCC,aAAa,EAAE,IAAIV,WAAJ,CAAgB,EAAhB,EAAmBC,UAAU,CAACQ,QAA9B;IAFuB,CAAvB,CAAjB;EAOA;;EAEIE,YAAY;IAAA;;IAAA;;;MAChB,KAAI,CAACC,WAAL,CAAiBC,QAAjB,GAA4B,WAAI,CAACP,SAAL,CAAeQ,GAAf,CAAmB,eAAnB,OAAmC,IAAnC,IAAmCC,aAAnC,GAAmC,MAAnC,GAAmCA,GAAEC,KAAjE;MACA,KAAI,CAACJ,WAAL,CAAiBK,QAAjB,GAA4B,WAAI,CAACX,SAAL,CAAeQ,GAAf,CAAmB,eAAnB,OAAmC,IAAnC,IAAmCI,aAAnC,GAAmC,MAAnC,GAAmCA,GAAEF,KAAjE;MAGC,MAAM,KAAI,CAACZ,OAAL,CAAae,iBAAb,CAA+B,KAAI,CAACP,WAApC,EAAiDQ,SAAjD,CAA4DC,MAAD,IAAe;QAC/EC,KAAK,CAACD,MAAM,CAACE,MAAR,CAAL;MACA,CAFK,EAEHC,KAAD,IAA4B;QAC7BF,KAAK,CAACE,KAAK,CAACA,KAAN,CAAYA,KAAZ,CAAkBC,OAAnB,CAAL;MACA,CAJK,CAAN;IALe;EAWjB;;EAEDC,QAAQ,IACP;;AA7BwB;;;mBAAdxB,gBAAcyB;AAAA;;;QAAdzB;EAAc0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BL,+BAA+B,CAA/B,EAA+B,KAA/B,EAA+B,CAA/B,EAA+B,CAA/B,EAA+B,KAA/B,EAA+B,CAA/B,EAA+B,CAA/B,EAA+B,KAA/B,EAA+B,CAA/B,EAA+B,CAA/B,EAA+B,KAA/B,EAA+B,CAA/B,EAA+B,CAA/B,EAA+B,IAA/B,EAA+B,CAA/B;MAKsCA;MAAcA;MAC1CA;MAA8BA;QAAA,OAAYM,kBAAZ;MAA0B,CAA1B;MAC5BN,+BAAkB,CAAlB,EAAkB,OAAlB,EAAkB,CAAlB;MAC2CA;MAAiBA;MAC1DA;MASFA;MACAA,gCAAkB,EAAlB,EAAkB,OAAlB,EAAkB,EAAlB;MAC2CA;MAAUA;MACnDA;MASFA;MACAA;MACEA;MACFA;;;;MA3BIA;MAAAA;MAyB0CA;MAAAA","names":["FormControl","Validators","LoginComponent","constructor","service","formBuilder","loginForm","group","usernameInput","required","passwordInput","GenerateAuth","credentials","password","get","_a","value","username","_b","PostAuthorization","subscribe","result","alert","status","error","message","ngOnInit","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/claudiopcwork/Desktop/Desarrollo FULLSTACK/Tienda Electronica/tienda-electronica-admin/src/app/components/login/login.component.ts","/home/claudiopcwork/Desktop/Desarrollo FULLSTACK/Tienda Electronica/tienda-electronica-admin/src/app/components/login/login.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { IAuthorization } from 'src/app/interfaces/Authorization';\nimport { AuthorizationService } from 'src/app/services/authorization.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm:FormGroup;\n  credentials:IAuthorization;\n\n  constructor(private service:AuthorizationService,private formBuilder:FormBuilder) {\n    this.loginForm = this.formBuilder.group({\n      usernameInput: new FormControl('',Validators.required),\n      passwordInput: new FormControl('',Validators.required)\n    })\n   \n   \n\n   }\n\n  async GenerateAuth(){\n    this.credentials.password = this.loginForm.get('usernameInput')?.value\n    this.credentials.username = this.loginForm.get('passwordInput')?.value\n    \n    \n     await this.service.PostAuthorization(this.credentials).subscribe((result:any) =>{\n      alert(result.status)\n     },(error:HttpErrorResponse) =>{\n      alert(error.error.error.message);\n     })\n\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container bg-dark\">\n  <div class=\"row justify-content-center align-items-center vh-100\">\n    <div class=\"col-md-4\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title mb-4\">Iniciar Sesión</h5>\n          <form [formGroup]=\"loginForm\" (ngSubmit)=\"GenerateAuth()\">\n            <div class=\"mb-3\">\n              <label for=\"username\" class=\"form-label\">Nombre de usuario</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"username\"\n                name=\"username\"\n                placeholder=\"Enter Username\"\n                formControlName=\"usernameInput\"\n                required=\"true\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"password\" class=\"form-label\">Contraseña</label>\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"Enter Password\"\n                formControlName=\"passwordInput\"\n                required=\"true\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loginForm.invalid\">\n              Iniciar sesión\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}